{{ block title }}
    Instructions 2: Bonus Payment and Task Types
{{ endblock }}

{{ block content }}
<div class="container">
    <div class="outer-card mb-4">
        <h4 class="mb-4">Task Difficulty Indicators</h4>
        <div class="instructions-text">
            <p>Before each task, you will see an indicator at the top of the screen showing the likely difficulty level.</p>
            <p>Here are the two types of indicators you may see:</p>
        </div>
    </div>

    <!-- Example cards -->
    <div class="example-cards">
        <div class="info-card warning-low mb-3">
            Task difficulty is likely low
        </div>
        <div class="description-card mb-4">
            When you see this indicator, there is a 2/3 probability that the task will be relatively easy.
        </div>

        <div class="info-card warning-high mb-3">
            Task difficulty is likely high
        </div>
        <div class="description-card mb-4">
            When you see this indicator, there is a 2/3 probability that the task will be relatively difficult.
        </div>
    </div>

    <!-- Scoring info -->
    <div class="outer-card">
        <h4 class="mb-4">Bonus Payment Rules:</h4>
        <div class="instructions-text mt-4">
            <div class="bonus-info mb-4">
                <h6>For Tasks Marked as "Likely Low Difficulty":</h6>
                <ul>
                    <li>£0.40 if completed within 30 seconds</li>
                    <li>£0.30 if completed within 60 seconds</li>
                    <li>£0.20 if completed within 90 seconds</li>
                    <li>£0 if not completed within 90 seconds</li>
                </ul>
            </div>

            <div class="bonus-info mb-4">
                <h6>For Tasks Marked as "Likely High Difficulty":</h6>
                <ul>
                    <li>£0.80 if completed within 30 seconds</li>
                    <li>£0.60 if completed within 60 seconds</li>
                    <li>£0.40 if completed within 90 seconds</li>
                    <li>£0 if not completed within 90 seconds</li>
                </ul>
            </div>

            <div class="important-note">
                <p><strong>Important:</strong></p>
                <ul>
                    <li>The solution must be correct to receive any bonus</li>
                    <li>Each number must be used exactly once</li>
                    <li>The task will automatically submit answer in last cell after 90 seconds</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="outer-card mt-4">
        <h4 class="mb-4">Understanding Check</h4>
        <p>Please answer these questions correctly to proceed.</p>

        <div class="question-block mb-4">
            <p><strong>Question 1:</strong> If a participant gets 22 (not 24) and completes the task in 60 seconds for a task marked as "Likely Low Difficulty", what bonus will they receive?</p>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q1" value="1">
                    <span>£0 because 24 was not reached</span>
                </label>
                <label class="option">
                    <input type="radio" name="q1" value="2">
                    <span>£0.30 because they completed within the 60-second interval</span>
                </label>
            </div>
            <div class="feedback" id="feedback1"></div>
        </div>

        <div class="question-block">
            <p><strong>Question 2:</strong> If a participant completes all three high difficulty tasks within 30 seconds each, what will be their total bonus for these tasks?</p>
            <div class="options">
                <label class="option">
                    <input type="radio" name="q2" value="1">
                    <span>£2.40</span>
                </label>
                <label class="option">
                    <input type="radio" name="q2" value="2">
                    <span>£1.80</span>
                </label>
                <label class="option">
                    <input type="radio" name="q2" value="3">
                    <span>£0.80</span>
                </label>
            </div>
            <div class="feedback" id="feedback2"></div>
        </div>
    </div>

    <div id="next-button-container" style="display: none;">
        {{ next_button }}
    </div>
</div>

<style>
.container {
    max-width: 800px;
    margin: 0 auto;
}

.info-cards {
    width: 600px;
    margin: 0 auto 20px auto;
}

.info-card {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 10px;
    text-align: center;
}

.example-cards {
    width: 600px;
    margin: 0 auto 20px auto;
}

.description-card {
    text-align: center;
    font-size: 16px;
    color: #666;
}

.warning-high {
    background-color: #fff3cd;
    border-color: #ffeeba;
    color: #856404;
}

.warning-low {
    background-color: #cce5ff;
    border-color: #b8daff;
    color: #004085;
}

.outer-card {
    width: 600px;
    margin: 0 auto;
    background-color: #f8f9fa;
    border-radius: 8px;
    padding: 20px;
}

.instructions-text {
    font-size: 18px;
    line-height: 1.6;
}

.bonus-info {
    background-color: white;
    border: 1px solid #dee2e6;
    border-radius: 4px;
    padding: 15px;
    margin-bottom: 20px;
}

.bonus-info h6 {
    color: #495057;
    margin-bottom: 10px;
}

.important-note {
    background-color: #fff3cd;
    border: 1px solid #ffeeba;
    border-radius: 4px;
    padding: 15px;
    margin-top: 20px;
}

.mb-3 {
    margin-bottom: 1rem;
}

.mb-4 {
    margin-bottom: 1.5rem;
}

.mt-4 {
    margin-top: 1.5rem;
}

.question-block {
    margin-bottom: 2rem;
    text-align: left;
}

.options {
    margin: 1rem 0;
}

.option {
    display: block;
    margin: 10px 0;
    padding: 10px;
    border: 1px solid #dee2e6;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.option:hover {
    background-color: #f8f9fa;
}

.feedback {
    margin-top: 10px;
    padding: 10px;
    border-radius: 4px;
    display: none;
}

.feedback.error {
    background-color: #f8d7da;
    border: 1px solid #f5c6cb;
    color: #721c24;
}

.feedback.success {
    background-color: #d4edda;
    border: 1px solid #c3e6cb;
    color: #155724;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const correctAnswers = {
        q1: "1",  // £0 because 24 was not reached
        q2: "1"   // £2.40
    };
    
    let answersCorrect = {
        q1: false,
        q2: false
    };

    function checkAnswers() {
        return answersCorrect.q1 && answersCorrect.q2;
    }

    function updateNextButton() {
        const nextButton = document.getElementById('next-button-container');
        if (checkAnswers()) {
            nextButton.style.display = 'block';
        } else {
            nextButton.style.display = 'none';
        }
    }

    function handleAnswer(questionName, value) {
        const feedback = document.getElementById(`feedback${questionName.slice(-1)}`);
        const isCorrect = value === correctAnswers[questionName];
        
        feedback.style.display = 'block';
        feedback.className = `feedback ${isCorrect ? 'success' : 'error'}`;
        feedback.textContent = isCorrect ? 
            'Correct!' : 
            'Incorrect. Please review the bonus rules and try again.';
        
        answersCorrect[questionName] = isCorrect;
        updateNextButton();
    }

    // Add event listeners to radio buttons
    document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.addEventListener('change', (e) => {
            handleAnswer(e.target.name, e.target.value);
        });
    });
});
</script>

{{ endblock }} 